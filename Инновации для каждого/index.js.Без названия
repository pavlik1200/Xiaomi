!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=59)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(30)("wks"),r=n(20),o=n(0).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";function i(t,e,n){if(arguments.length>1&&"[object Object]"!==String(e)){if(n=$.extend({},n),null==e&&(n.expires=-1),"number"==typeof n.expires){var i=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+i)}return e=String(e),document.cookie=[encodeURIComponent(t),"=",n.raw?e:encodeURIComponent(e),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}var o,a=(n=e||{}).raw?function(t){return t}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}Object.defineProperty(e,"__esModule",{value:!0}),e.gCookie=i,e.gIsLoginMi=function(){return!(!i("userId")&&!i("cUserId"))},e.gLogin=function(t){window.location.href=GLOBAL_CONFIG.loginUrl+"?redirectUrl="+(t||window.location.href)},e.gFbShare=function(t){var e="",n=t.isOrigin;t.link&&"http"!==t.link.substr(0,4)&&(t.link="https:"+t.link);e=(n=!(t.link.indexOf("mi.com")>0)||n)?t.link:"https://buy.mi.com/es/static/toshare?image="+encodeURIComponent(t.picture)+"&title="+encodeURIComponent(t.title)+"&desc="+encodeURIComponent(t.description)+"&link="+encodeURIComponent(t.link);FB.ui({method:"feed",name:t.title,link:e,hashtag:t.hashtag||""},function(e){t.callback&&t.callback(e)})},e.gTwShare=function(t){var e=t.href,n=t.title;t.href&&"http"!==t.href.substr(0,4)&&(e="https:"+t.href);window.open("https://twitter.com/share?url="+encodeURIComponent(e)+"&text="+encodeURIComponent(n),"twitterwindow","height=450, width=550, top=    "+($(window).height()/2-225)+", left="+$(window).width()/2+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")},e.login=function(t){window.location.href=GLOBAL_CONFIG.loginUrl+"?redirectUrl="+(t||window.location.href)},e.jsonp=function(t){$.ajax({url:t.url,dataType:"jsonp",jsonp:"jsonpcallback",jsonpCallback:t.jsonpCallback||"",cache:!!t.cache&&t.cache,success:t.success,error:t.error,timeout:t.timeout})},e.formatPrice=function(t,e){!e&&(e=",");var n=t.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),n.join(".")},e.randomNum=function(t){if(1===(t=parseInt(t)))return 0;if(t>1){var e=t-1,n=Math.round(Math.random()*e);return n}},e.removeRepeat=function(t){for(var e,n=[],i={},r=0;null!=(e=t[r]);r++)i[e]||(n.push(e),i[e]=!0);return n},e.checkEmail=function(t){return!!/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(t)},e.escape=function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},e.getUTCDate=function(t,e){var n=t,i=r[e||GLOBAL_CONFIG.appLocal.name]||0,o=new Date(n).getTimezoneOffset();return new Date(n+60*(o+60*i)*1e3)},e.getUTCTime=function(t,e){var n=new Date(t),i=r[e||GLOBAL_CONFIG.appLocal.name]||0,o=60*(n.getTimezoneOffset()+60*i)*1e3;return n.getTime()-o},e.timeStr=function(t){return(t=new String(t)).length>2?t:(t="0"+t).substr(-2)},e.replaceAll=function(t,e){var n=new RegExp(Object.keys(e).join("|"),"gi");return t.replace(n,function(t){return e[t]})},e.FbRedirectUrl=function(t){var e="https://www.facebook.com/dialog/oauth/?client_id="+t.appID+"&redirect_uri="+t.redirect_uri+"&state="+t.state+"&scope="+t.scope+"&dislay=page";location.href=e},e.FbInit=function(t,e){window.fbAsyncInit=function(){FB.init({appId:t,xfbml:!0,version:"v2.1"}),e&&e()},n=document,i="script",r="facebook-jssdk",a=n.getElementsByTagName(i)[0],n.getElementById(r)||((o=n.createElement(i)).id=r,o.src="//connect.facebook.net/en_ALL/sdk.js",a.parentNode.insertBefore(o,a));var n,i,r,o,a},e.shareVk=function(t){t.img&&"http"!==t.img.substr(0,4)&&(t.img="https:"+t.img);t.url&&"http"!==t.url.substr(0,4)&&(t.url="https:"+t.url);!function(t){var e,n=t.params||{},i=Object.keys(n),r=i.length>0?"?":"";for(e=0;e<i.length;e++)"?"!==r&&(r+="&"),n[i[e]]&&(r+=i[e]+"="+encodeURIComponent(n[i[e]]));if(t.shareUrl+=r,t.isLink)window.location.href=t.shareUrl;else{var o=t.width||600,a=t.height||480,s=window.innerWidth/2-o/2+window.screenX,c=window.innerHeight/2-a/2+window.screenY,u="scrollbars=no, width="+o+", height="+a+", top="+c+", left="+s,l=window.open(t.shareUrl,"",u);window.focus&&l.focus()}}({shareUrl:"https://vk.com/share.php",params:{url:t.url,title:t.title,description:t.desc,image:t.img,comment:t.comment}})},e.reducePicUrl=function(t){var e=Math.ceil(t.width*t.pi),n=Math.ceil(t.height*t.pi),i="!"+e+"x"+n+"x1";return t.url.replace(/(\.jpg|\.jpeg|\.png)/,i+"$1")};var r=e.UTC_MAP={in:5.5,id:7,sg:8,my:8,ph:8,hk:8,tw:8,eg:2,es:2,it:2,de:2,fr:2,uk:1,ru:3}},function(t,e,n){var i=n(5),r=n(41),o=n(27),a=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(8);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(4),r=n(19);t.exports=n(6)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(0),r=n(2),o=n(16),a=n(7),s=n(9),c=function(t,e,n){var u,l,f,d=t&c.F,h=t&c.G,p=t&c.S,v=t&c.P,m=t&c.B,g=t&c.W,_=h?r:r[e]||(r[e]={}),w=_.prototype,y=h?i:p?i[e]:(i[e]||{}).prototype;for(u in h&&(n=e),n)(l=!d&&y&&void 0!==y[u])&&s(_,u)||(f=l?y[u]:n[u],_[u]=h&&"function"!=typeof y[u]?n[u]:m&&l?o(f,i):g&&y[u]==f?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((_.virtual||(_.virtual={}))[u]=f,t&c.R&&w&&!w[u]&&a(w,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var i=n(67),r=n(25);t.exports=function(t){return i(r(t))}},function(t,e){t.exports=!0},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slide=e.formatNum=e.cartNum=e.appAddCart=e.winTips=e.getAjax=e.lazyLoad=e.cookie=void 0;var i,r=n(38),o=(i=r)&&i.__esModule?i:{default:i},a=n(3);function s(t,e,n){if(arguments.length>1&&"[object Object]"!==String(e)){if(n=$.extend({},n),null==e&&(n.expires=-1),"number"==typeof n.expires){var i=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+i)}return e=String(e),document.cookie=[encodeURIComponent(t),"=",n.raw?e:encodeURIComponent(e),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}var o=void 0,a=(n=e||{}).raw?function(t){return t}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(n.raw?o[1]:o[1].replace(/\+/g,"%20")):null}function c(t){var e=document.documentElement.clientWidth||320;e>720&&(e=720);var n=e/720,i=this,r={defObj:".main",defHeight:2.5*$(window).height()||2e3,graduallyShow:!0,placeholder:!1,hasquality:!0},a=((r=$.extend(r,t||{})).defHeight,"object"===(0,o.default)(r.defObj)?r.defObj.find("img[data-original], .xm-lazy"):$(r.defObj).find("img[data-original], .xm-lazy")),s=[],c=parseFloat($(window.document.documentElement).css("font-size")),u=window.devicePixelRatio,l=window.location.href.toLowerCase(),f=/(_network_type=)\w*/.exec(l),d=/(_img_quality=)\w*/.exec(l),h=(h=f?f[0].replace(/_network_type=/,""):"empty")||"empty",p=d?d[0].replace(/_img_quality=/,""):"",v={_default:"!40",default:"!60",wifi:"!90",empty:"!90"};h=v[h]?h:u>=2?"_default":"default",p=r.hasquality?p?"!"+p:v[h]:"";a.each(function(){var t=$(this);if(r.placeholder&&"img"===t[0].tagName.toLowerCase()&&0===t.next("span.J_imgPlaceholder").length){var e=$('<span class="J_imgPlaceholder xm-img-placeholder icon-mi"></span>'),n=t.position().top+t.height()/2,i=t.position().left+parseFloat(t.css("margin-left"))-parseFloat(t.css("margin-right"))+t.width()/2;e.css({top:c?parseInt(n/c*1e3)/1e3+"rem":n,left:c?parseInt(i/c*1e3)/1e3+"rem":i}),t.after(e)}s.push(t.offset().top)}),i._imgLoad=function(){var t,e=!1,i=(t=document,(window.pageYOffset?window.pageYOffset:Math.max(t.documentElement.scrollTop,t.body.scrollTop))+r.defHeight),o=$(window).width()+$(window).scrollLeft();a.each(function(t){var l=$(this);s[t]<=i&&(!(l.closest(".J_slideLazyLoad").length>0)||!(o<l.offset().left))&&(e=!0,a=a.not(l),s.splice(t,1,0),"img"===l[0].tagName.toLowerCase()?(!function(t){var e=t.css("width"),i=t.css("height");e.indexOf("rem")>-1&&(e=Math.ceil(parseFloat(e)*c)),i.indexOf("rem")>-1&&(i=Math.ceil(parseFloat(i)*c));var o=t.data("original"),a=r.imgWidth?Math.ceil(r.imgWidth*n)*r.imgPi:Math.ceil(e*u),s=r.imgHeight?Math.ceil(r.imgHeight*n)*r.imgPi:Math.ceil(i*u||1999);if(a&&s){var l="!"+a+"x"+s;r.imgPi&&(l=l+"x"+r.imgPi),o=o.replace(/(\.jpg|\.png|\.jpeg)/,l+p+"$1")}t.attr("src",o)}(l),l.on("load",function(){r.graduallyShow?l.removeAttr("data-original").addClass("xm-gradualimg"):l.removeAttr("data-original"),l.next(".J_imgPlaceholder").remove()})):l.removeClass("xm-lazy"))}),!0===e&&(s=$.grep(s,function(t){return t>0}))},i._imgLoad(),i._bindImg=function(){c=parseFloat($(window.document.documentElement).css("font-size")),i._imgLoad()},$(window).on("scroll",i._bindImg).on("resize",i._bindImg),a.closest(".J_slideLazyLoad").length>0&&(a.closest(".J_slideLazyLoad").on("touchmove",function(){i._imgLoad()}),a.closest(".J_slideLazyLoad").on("scroll",function(){i._imgLoad()}))}function u(t){var e=t.$load||"";e&&e.hasClass("icon-loading")||(e&&e.addClass("icon-loading"),$.ajax({url:t.url,type:t.type||"GET",data:t.data||"",dataType:t.dataType||"json",jsonp:t.jsonp||"jsonpcallback",jsonpCallback:t.jsonpCallback||"jsonpCallback",cache:t.cache,xhrFields:t.xhrFields||{},success:function(n){var i=n.errno||n.code,r={title:n.msg||n.errmsg||n.error||n.message};if(-2!=n.code)return 0!==i&&20010!==i&&i?void(t.successERR?t.successERR(n):l(r)):(e&&e.hasClass("icon-loading")&&e.removeClass("icon-loading"),void(t.success&&t.success(n)));(0,a.gLogin)()},error:function(n){e&&e.hasClass("icon-loading")&&e.removeClass("icon-loading"),t.error&&t.error(n)}}))}function l(t){var e=doT.template('<div class="xm-tips-win J_tipsWin"><div class="tips-con">{{? it.img }}<div class="img"><img src="{{= it.img }}"></div>{{?}}{{? it.title }}<div class="title">{{= it.title }}</div>{{?}}{{? it.msg }}<div class="msg">{{= it.msg }}</div>{{?}}{{? it.button }}{{? it.button.length == 2 }}<div class="btn-double tips-btns-box"><a class="btn btn-l btn-white" href="{{= it.button[0][1] }}">{{= it.button[0][0] }}</a><a class="btn btn-r btn-white" href="{{= it.button[1][1] }}">{{= it.button[1][0] }}</a></div>{{?}}{{? it.button.length == 1 }}<div class="tips-btns-box"><a class="btn btn-white" href="{{= it.button[0][1] }}">{{= it.button[0][0] }}</a></div>{{?}}{{? !!it.button.text2 }}<div class="btn-double tips-btns-box"><span id="J_tipsBtn1" class="btn btn-l btn-white">{{= it.button.text1 }}</span><span id="J_tipsBtn2" class="btn btn-r btn-white">{{= it.button.text2 }}</span></div>{{?}}{{? !!it.button.text1 && !it.button.text2 }}<div class="tips-btns-box"><span id="J_tipsBtn1" class="btn btn-white">{{= it.button.text1 }}</span></div>{{?}}{{?}}</div><span class="tips-close" id="J_tipsClose"></span></div>'),n=$(document.body),i=$(".J_tipsWin");if(i.length>0&&i.remove(),!t);n.append(e(t)),$("#J_tipsClose").on("click",function(){$(this).parent().remove(),t.closeCB&&t.closeCB()}),t.button&&(t.button.ev1&&$("#J_tipsBtn1").on("click",function(){t.button.ev1(),$(this).parents(".J_tipsWin").remove()}),t.button.ev2&&$("#J_tipsBtn2").on("click",function(){t.button.ev2(),$(this).parents(".J_tipsWin").remove()}))}function f(t){var e=Number(s("xm_user_"+XIAOMI.GLOBAL_CONFIG.appLocal.name+"_num"));t&&(e+=Number(t),s("xm_user_"+XIAOMI.GLOBAL_CONFIG.appLocal.name+"_num",e,{path:"/"+XIAOMI.GLOBAL_CONFIG.appLocal.name,domain:".mi.com"})),e>0?$("#J_cartNum").removeClass("hide").text(e):$("#J_cartNum").addClass("hide"),_page_isAppSite&&setTimeout(function(){window.WE.updateCart(e)},0)}c.prototype.unbind=function(){$(window).off("scroll",this._bindImg).off("resize",this._bindImg)},e.cookie=s,e.lazyLoad=c,e.getAjax=u,e.winTips=l,e.appAddCart=function(t,e,n){u({url:GLOBAL_CONFIG.goSite+"/cart/add",data:t,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},success:function(t){f(1),e&&e(t)},$load:n})},e.cartNum=f,e.formatNum=function(t){var e=/(\d+)(\d{3})/,n=function(n){return String(t).replace(/\d+/,function(t){for(;e.test(t);)t=t.replace(e,"$1"+n+"$2");return t})},i={in:n(","),id:n(".")};return i[XIAOMI.GLOBAL_CONFIG.appLocal.name]?i[XIAOMI.GLOBAL_CONFIG.appLocal.name]:t},e.slide=function(t){var e={slideObj:".xm-slide",tagCenter:!0,hasTag:!0,hasButton:!1,edgeType:"rollback",autoPlay:!0,interval:5,position:0,hasMulti:!1};for(var n in t)e[n]=t[n];e.endCallback=e.endCallback||function(){},e.interval=1e3*e.interval;var i=$(e.slideObj).find("xm-slide-scroll"),r=$(e.slideObj).find("figure");if(r.length<=1)return i.width("100%"),void r.width("100%");$(e.slideObj).length>0&&new function(t){var e,n,i=this,r=$(t.slideObj),o=r.find(".xm-slide-scroll"),a=r.find("figure"),s=a.length,c=r.width(),u=c*s,l=t.position;if(a.width(c),t.hasTag){for(var f=$('<ul class="xm-slide-pagination"></ul>'),d="<li></li>",h=1;h<s;h++)d+="<li></li>";f.append(d);var p=f.children("li");p.eq(l).addClass("current"),r.append(f),t.tagCenter&&f.css({"margin-left":-f.width()/2,left:"50%"})}if(t.hasButton){var v=$('<span class="xm-slide-leftbutton hide"></span><span id="" class="xm-slide-rightbutton"></span>');r.append(v),r.find(".xm-slide-leftbutton").on("click",function(){i.toLeft()}),r.find(".xm-slide-rightbutton").on("click",function(){i.toRight()})}if(o.css("width",u).on(function(){var t,e=document.createElement("check"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}(),function(){o.removeClass("transition"),i.events();var e=r.find("figure[data-source]");"continue"===t.edgeType&&e.length>0&&(l=Number(e.data("source")),i.transform(o,c*l),e.css({"z-index":"-1"}),setTimeout(function(){m.removeAttr("data-source"),g.removeAttr("data-source")},0))}),this.init=function(){i.transform(o,c*l),i.toPlay()},this.transform=function(t,e){t.css({"-moz-transform":"translate3d("+-e+"px, 0, 0)","-webkit-transform":"translate3d("+-e+"px, 0, 0)","-o-transform":"translate3d("+-e+"px, 0, 0)","-ms-transform":"translate3d("+-e+"px, 0, 0)",transform:"translate3d("+-e+"px, 0, 0)"})},this.toRun=function(e){var n;if(void 0!==e)n=c*l-e;else if(i.runType[t.edgeType](),o.addClass("transition"),n=c*l,a.off("touchstart").off("touchend"),r.off("touchmove"),p&&p.length>0){var s=l>=p.length?0:l;p.removeClass("current"),p.eq(s).addClass("current")}i.transform(o,n)},this.toPlay=function(){t.autoPlay&&!e&&(e=setInterval(function(){i.toRight()},t.interval))},this.toRight=function(t){t?l+=t:l++,i.toRun()},this.toLeft=function(t){t?l-=t:l--,i.toRun()},this.runType={rollback:function(){l<0?l=s-1:l>s-1&&(l=0)},end:function(){l<=0?(l=0,r.find(".xm-slide-leftbutton").addClass("hide"),r.find(".xm-slide-rightbutton").removeClass("hide")):l>=s-1?(l==s&&t.endCallback(),l=s-1,r.find(".xm-slide-rightbutton").addClass("hide"),r.find(".xm-slide-leftbutton").removeClass("hide")):(r.find(".xm-slide-leftbutton").removeClass("hide"),r.find(".xm-slide-rightbutton").removeClass("hide")),a.eq(l).addClass("on").siblings().removeClass("on")},continue:function(){m.css({"z-index":"1"}),g.css({"z-index":"1"}),l<0?(m.data("source",s-1),i.toRun(c*l,s-1)):l>s-1&&(g.data("source",0),i.toRun(-c*l,0))}},this.events=function(){a.off("touchstart").off("touchend").on("touchstart",function(t){e&&(clearInterval(e),e=null),o.removeClass("transition"),n=t.targetTouches[0].pageX}).on("touchend",function(e){var r=e.changedTouches[0].pageX-n,o=Math.abs(r),a=$(window).width()/5,s=void 0,u=Math.round(o/c);t.hasMulti&&u>1&&(s=u),r>0&&o>a?i.toLeft(s):r<0&&o>a?i.toRight(s):i.toRun(),i.toPlay()}),r.off("touchmove").on("touchmove",function(t){var e=t.targetTouches[0].pageX-n,r=Math.abs(e);$(window).width(),r>=10&&t.preventDefault(),i.toRun(e)})},$(window).resize(function(){a.width(r.width()),c=a.width(),u=c*s,o.css("width",u)}),this.events(),"continue"===t.edgeType){var m=a.eq(-1).clone(),g=a.eq(0).clone(),_=function(t,e){i.transform(t,e),t.css({position:"absolute","z-index":"1",top:"0"}),o.append(t)};_(m,c),_(g,-u)}}(e).init()}},function(t,e,n){var i=n(17);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(4).f,r=n(9),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(85),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(8),r=n(0).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(8);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(44),r=n(31);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(30)("keys"),r=n(20);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(2),r=n(0),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(12)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){e.f=n(1)},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=n(32),s=n(4).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=GLOBAL_CONFIG.apiUrl+"/eventapi/api";e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json";return new Promise(function(o,a){var s=""+i+t;$.ajax({type:n,url:s,dataType:r,xhrFields:{withCredentials:!0},data:e,success:function(t){o(t)},error:function(t){a(t)}})})}},function(t,e,n){"use strict";var i=n(17);function r(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(38)),r=a(n(22)),o=a(n(23));function a(t){return t&&t.__esModule?t:{default:t}}e.clearCountDown=function(t){if(t&&t.timeIds)for(var e in t.timeIds)clearInterval(e)};var s=function(){function t(e){var n=e.endTime,i=e.tick,o=void 0===i?function(){}:i,a=e.timeup,s=void 0===a?function(){}:a,c=e.format,u=void 0===c?"%dd : %hh : %mm : %ss":c;(0,r.default)(this,t),this.timeIds={},n&&(u=u||"%dd : %hh : %mm : %ss",this.countDown(n,u,o,s))}return(0,o.default)(t,[{key:"getTimeNumbers",value:function(t){return String.prototype.padStart||(String.prototype.padStart=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>=t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),e.slice(0,t)+String(this))}),{d:parseInt(t/86400).toString().padStart(2,"0"),h:parseInt(t/3600%24).toString().padStart(2,"0"),m:parseInt(t/60%60).toString().padStart(2,"0"),s:parseInt(t%60).toString().padStart(2,"0")}}},{key:"countDown",value:function(t,e,n,r){var o=0,a=Math.floor((new Date).getTime()/1e3);window.servertime&&"number"==typeof window.servertime&&(o=window.servertime-a,a=window.servertime),"number"==!(void 0===t||(0,i.default)(t))&&parseInt(t),setTimeout(function(){this.renderTime(a+1,t,e,n,r)}.bind(this),0);var s=setInterval(function(){(a=(new Date).getTime()/1e3+o)>=t&&clearInterval(this.timeIds[s]),this.renderTime(a,t,e,n,r)}.bind(this),1e3);this.timeIds[s]=s}},{key:"renderTime",value:function(t,e,n,i,r){var o=e-t,a=this.formatTime(o,n);o>0?i(a,o):r()}},{key:"formatTime",value:function(t,e){var n=this.getTimeNumbers(t);return 0==n.d&&e.replace(/\%d\w\s?:/,""),/\%d/.test(e)||(n.h=24*n.d+1*n.h+""),e.replace(/(\%\w)/g,function(t){return n[t.replace("%","")]})}}]),t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var i=a(n(62)),r=a(n(75)),o="function"==typeof r.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===o(i.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,n){"use strict";var i=n(64)(!0);n(40)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(12),r=n(10),o=n(42),a=n(7),s=n(13),c=n(65),u=n(21),l=n(70),f=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,v,m,g){c(n,e,p);var _,w,y,b=function(t){if(!d&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",k="values"==v,S=!1,C=t.prototype,T=C[f]||C["@@iterator"]||v&&C[v],$=T||b(v),O=v?k?b("entries"):$:void 0,L="Array"==e&&C.entries||T;if(L&&(y=l(L.call(new t)))!==Object.prototype&&y.next&&(u(y,x,!0),i||"function"==typeof y[f]||a(y,f,h)),k&&T&&"values"!==T.name&&(S=!0,$=function(){return T.call(this)}),i&&!g||!d&&!S&&C[f]||a(C,f,$),s[e]=$,s[x]=h,v)if(_={values:k?$:b("values"),keys:m?$:b("keys"),entries:O},g)for(w in _)w in C||o(C,w,_[w]);else r(r.P+r.F*(d||S),e,_);return _}},function(t,e,n){t.exports=!n(6)&&!n(18)(function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(7)},function(t,e,n){var i=n(5),r=n(66),o=n(31),a=n(29)("IE_PROTO"),s=function(){},c=function(){var t,e=n(26)("iframe"),i=o.length;for(e.style.display="none",n(46).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(9),r=n(11),o=n(68)(!1),a=n(29)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),c=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var i=n(24),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(0).document;t.exports=i&&i.documentElement},function(t,e,n){n(72);for(var i=n(0),r=n(7),o=n(13),a=n(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=i[u],f=l&&l.prototype;f&&!f[a]&&r(f,a,u),o[u]=o.Array}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(44),r=n(31).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),r=n(3),o={data:{contentData:{},_cmsEventText:_cmsEventText,currentEl:null},init:function(t){var e=$("#sec_"+t.id);o.data.currentEl=e,o.data.contentData=t,o.findSection(t)},findSection:function(t){var e=$("#sec_"+t.id);e.find(".goods-list");t.info.forEach(function(t,n){o.setStatus(t,e.find(".goods-list").eq(n))})},setStatus:function(t,e){for(var n=t.status,i=o.data._cmsEventText,r=e.find(".J_flashBuyBtn"),a=0;a<r.length;a++)if(t.items[a].id==r.eq(a).attr("data-seckillid").trim()){var s=t.items[a].goods_id;r.eq(a).attr("data-gid",s)}1==n||2==n?e.find(".J_flashBuyBtn").text(i.coming).attr("href","javascript:void(0);").attr("disabled","disabled"):3==n||4==n?o.setLiveBtn(t,e):5==n&&e.find(".J_flashBuyBtn").text(i.outstock).attr("href","javascript:void(0);").attr("disabled","disabled")},setLiveBtn:function(t,e){for(var n=t.items,i=o.data._cmsEventText,r=e.find(".J_flashBuyBtn"),a=function(t,e){var o=r.eq(t).removeAttr("disabled");o.text(i.buynow),n.forEach(function(t){t.goods_id==o.data("gid")&&t.is_cos&&o.text(i.outstock).attr("href","javascript:void(0);").attr("disabled","disabled")})},s=0,c=r.length;s<c;s++)a(s);$(".J_flashBuyBtn").off().on("click",function(){if($(this).attr("disabled"))return!1;o.buySeckill($(this))})},buySeckill:function(t){var e=o.data._cmsEventText;if(!(0,r.gIsLoginMi)())return(0,r.gLogin)(),!1;var n=t.attr("data-gid");(0,i.getAjax)({url:GLOBAL_CONFIG.seckillBaseUrl+"/seckill/do",dataType:"jsonp",jsonpCallback:"seckill",cache:!0,timeout:5e3,data:{tag:o.data.contentData.act_tag,tid:generalDisplay,goods_id:n},success:function(){location.href=GLOBAL_CONFIG.orderSite+"/cart"},successERR:function(n){t.off().text(e.outstock).attr("href","javascript:void(0);").attr("disabled","disabled")},error:function(n){t.off().text(e.outstock).attr("href","javascript:void(0);").attr("disabled","disabled")}})}};e.default=o},function(t,e,n){t.exports=n(100)},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(102),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default(function(t,n){return function i(r,a){try{var s=e[r](a),c=s.value}catch(t){return void n(t)}if(!s.done)return o.default.resolve(c).then(function(t){i("next",t)},function(t){i("throw",t)});t(c)}("next")})}}},function(t,e,n){var i=n(14),r=n(1)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i=n(5),r=n(17),o=n(1)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},function(t,e,n){var i,r,o,a=n(16),s=n(110),c=n(46),u=n(26),l=n(0),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,m=0,g={},_=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},w=function(t){_.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},i(m),m},h=function(t){delete g[t]},"process"==n(14)(f)?i=function(t){f.nextTick(a(_,t,1))}:v&&v.now?i=function(t){v.now(a(_,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=w,i=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",w,!1)):i="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:d,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(5),r=n(8),o=n(36);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){t.exports=n(60)},function(t,e,n){"use strict";n(61);var i=n(3),r=n(37),o=h(r);n(88);var a=n(89),s=n(90),c=h(n(93)),u=n(98),l=n(99);n(118);var f=n(119),d=n(120);function h(t){return t&&t.__esModule?t:{default:t}}$(document).ready(function(){var t,e,n=!1;function h(e){var n=$(".J_cmsBuyBtn");e<=_cmsEventConfig.timeSaleStart?n.each(function(t,e){var n=$(e);if(!$(e).attr("data-endtime"))return!0;n.text(_cmsEventText.coming).attr("href","javascript:void(0);").attr("disabled","")}):e<_cmsEventConfig.timeEventEnd?n.each(function(n,i){var r=$(i),a=$(i).attr("data-endtime");if(!a)return!0;e<=a?new o.default({endTime:a,tick:function(t){r.text(_cmsEventText.coming).attr("href","javascript:void(0);").attr("disabled","")},timeup:function(){r.removeClass("ticking"),r.checkStock(t,!0)}}):(r.removeClass("ticking"),r.checkStock(t))}):console.log("error")}function p(e){$(".J_cmsLikeBuyBtn").each(function(){var n=$(this),i=+n.data("sale-time");e>i&&(n.data("is-sale-time","1"),n.checkStock(t))})}function v(t){var e;window.timeDef=$.ajax({type:"GET",url:GLOBAL_CONFIG.damiaoSite+"/gettimestamp",dataType:"script",timeout:5e3,error:function(){e=Math.floor((new Date).getTime()/1e3)},success:function(){e=servertime},complete:function(){t&&t(e)}})}(0,a.originCommon)(!1),(e=$(".cms-sec-marquee-box").width())>1126&&($(".cms-sec-marquee-box").css("transform","translateX("+e+"px)"),$(".cms-sec-marquee").addClass("cms-sec-marquee-animation")),function(){var e=$(".J_cmsEventCountdown"),f=$(".J_cmsNav"),d=$(".J_flashSaleCarousel .pro-list"),m=$(".J_couponSecList"),g=$(".J_freshCoupon");if(f&&f.length>0&&function(t){var e=t.offset().top,n=t.addClass("fixed").height(),i=[];t.removeClass("fixed"),$(window).on("scroll.cmsNav",function(r){var o=0,a=$(window).scrollTop();if(a>=e){t.addClass("fixed");for(var s=0;s<i.length&&a>=i[s]-n;s++)o=s;t.find("[data-target]").removeClass("active").eq(o).addClass("active")}else t.removeClass("fixed").find("[data-target]").removeClass("active")}),t.on("click.cmsNav","[data-target]",function(){var t=$(this).attr("data-target"),e=$('[data-id="'+t+'"]');e.length>0&&($("html, body").animate({scrollTop:e.offset().top-n},"fast"),$(this).siblings().addClass("active").removeClass("active"))}),t.find("[data-target]").each(function(){var t=$(this).attr("data-target"),e=$('[data-id="'+t+'"]'),n=0;e&&e.length>0&&(n=e.offset().top-10),i.push(n)})}(f),(0,u.videoInit)(),$(".J_fix_icons .J_shareVK").on("click",function(t){t.preventDefault();var e=$(this),n=window.location.href.split("?")[0].split("#")[0];(0,i.shareVk)({title:e.attr("data-title"),desc:e.attr("data-desc"),url:e.attr("data-link")||n+"?utm_source=vk&utm_medium=share",img:e.attr("data-img")})}),$(".J_fix_icons .J_shareTW").on("click",function(t){t.preventDefault();var e=$(this),n=window.location.href.split("?")[0].split("#")[0];(0,i.gTwShare)({title:e.attr("data-content"),href:e.attr("data-link")||n+"?utm_source=tw&utm_medium=share"})}),$(".J_fix_icons .J_shareFb").on("click",function(t){t.preventDefault();var e=$(this),n=window.location.href.split("?")[0].split("#")[0],r=e.attr("data-hashtag")?"#"+e.attr("data-hashtag"):"";(0,i.gFbShare)({isOrigin:!0,link:e.attr("data-link")||n+"?utm_source=fb&utm_medium=share",title:e.attr("data-title"),description:e.attr("data-desc"),picture:e.attr("data-img"),hashtag:r})}),$(".J_fix_icons .J_shareLineApp").on("click",function(t){t.preventDefault();var e,n="";n=$(this).attr("data-link")||window.location.href.split("?")[0].split("#")[0]+"?utm_source=line&utm_medium=share",e="https://lineit.line.me/share/ui?url="+(n=encodeURIComponent(n)),window.open(e,"_blank")}),d&&d.length>0&&d.carousel({itemPerSlide:3,itemWidth:322}),!_cmsEventConfig.timePreheatEnd||!_cmsEventConfig.timeSaleStart||!_cmsEventConfig.timeEventEnd)return!1;function _(t){var e="";return t>=86400?e=countDownText.left+"%d"+countDownText.days+countDownText.togo:t>=3600?e=countDownText.left+"%h"+countDownText.hours+countDownText.togo:t<3600&&(e=countDownText.left+"%m"+countDownText.minutes+"%s"+countDownText.seconds+countDownText.togo),e}v(function(i){var c;c=i,$(".J_count_down").each(function(t,e){var n=$(e).attr("data-endtime"),i=n-c;if(n&&i>=0){$(e).show();var a=new o.default({endTime:n,format:_(i),tick:function(t){$(e).html(t)},timeup:function(){$(e).hide(),(0,r.clearCountDown)(a)}})}}),m&&m.length>0&&window.APISWITCH.flashcoupon&&(0,s.couponInit)(),g&&g.length>0&&window.APISWITCH.registercoupon&&(0,s.freshCouponInit)(),new o.default({endTime:_cmsEventConfig.timeSaleStart,format:_cmsEventCountdownTpl||"%dd : %hh : %mm : %ss",tick:function(t,n){var i=(_cmsEventCountdownTpl||"%dd : %hh : %mm : %ss").split(" : "),r={"%dd":"dd","%hh":"hh","%mm":"mm","%ss":"ss"},o=JSON.stringify(window.TRANSLATE.timeSymbols).includes("%")?{dd:"d",hh:"h",mm:"m",ss:"s"}:window.TRANSLATE.timeSymbols,a=[o[r[i[0]]],o[r[i[1]]],o[r[i[2]]],o[r[i[3]]]],s=t.split(" : ").map(function(t){return t.slice(0,2)}),c=""+s[0]+a[0]+" : "+s[1]+a[1]+" : "+s[2]+a[2]+" : "+s[3]+a[3];e.html(c)},timeup:function(){e.hide()}});var u=$(".J_cmsBuyBtn"),f=$(".J_cmsLikeBuyBtn");if(i<_cmsEventConfig.timeEventStart)u.each(function(t,e){$(e).text(_cmsEventText.eventComing).attr("href","javascript:void(0);").attr("disabled","disabled")}),f.each(function(t,e){$(e).text(_cmsEventText.eventComing).attr("href","javascript:void(0);").attr("disabled","disabled")});else if(i>=_cmsEventConfig.timeEventEnd)u.each(function(t,e){$(e).text(_cmsEventText.eventEnd).attr("href","javascript:void(0);").attr("disabled","disabled")}),f.each(function(t,e){$(e).text(_cmsEventText.eventEnd).attr("href","javascript:void(0);").attr("disabled","disabled")});else{var d={};f.each(function(t){var e=$(this),n=e.closest(".pro-detail").find(".J_likeCountDown"),r=e.data("stat-aid"),a=+e.data("sale-time"),s=e.data("start-time")-0,c=e.data("end-time")-0;function u(t){new o.default({endTime:t,format:"%hh : %mm : %ss",tick:function(t,e){if(e>86400){var i=parseInt(e/86400);i>1?n.html(i+window.TRANSLATE.cmsLikeBuy.days):n.html(i+window.TRANSLATE.cmsLikeBuy.day)}else n.html(t)},timeup:function(){}})}e.addClass("J_btnLike"),i<c?(i<s?(d[r]=!1,u(s),n.attr("data-countDownTips",window.TRANSLATE.cmsLikeBuy.startsIn),e.text(_cmsEventText.eventComing).attr("href","javascript:void(0);").attr("disabled","disabled")):(d[r]=!0,u(c),n.attr("data-countDownTips",window.TRANSLATE.cmsLikeBuy.EndsIn)),n.show()):n.hide(),i<a&&i>c&&(d[r]=!1,e.text(_cmsEventText.eventComing).attr("href","javascript:void(0);").attr("disabled","disabled"))}),window.APISWITCH.up&&(0,a.getUpInfo)(!1,d),t?(p(i),n=!0):$.ajax({url:GLOBAL_CONFIG.orderSite+"/misc/getstarstock/hdid/"+_cmsEventConfig.stockId,dataType:"jsonp",jsonp:"jsonpcallback",jsonpCallback:"getStarStock",cache:!0,timeout:1e4,success:function(e){t=e,n||(p(i),n=!0)},error:function(){}}),i>=_cmsEventConfig.timePreheatEnd?t?h(i):$.ajax({url:GLOBAL_CONFIG.orderSite+"/misc/getstarstock/hdid/"+_cmsEventConfig.stockId,dataType:"jsonp",jsonp:"jsonpcallback",jsonpCallback:"getStarStock",cache:!0,timeout:1e4,success:function(e){t=e,h(i),n||(p(i),n=!0)},error:function(){}}):(0,l.setRemindMe)()}}),window.APISWITCH.flashsale&&c.default.init()}(),$(".images-block .image-item").on("click",function(t){var e=$(this).attr("href");e.indexOf("mailto")>=0||e.indexOf("http")<0&&(t.preventDefault(),$("html, body").animate({scrollTop:$("#"+e).offset().top},"fast"))}),window.APISWITCH.up&&(0,d.setDiscountLikeProcess)(),(0,f.initNotification)()})},function(t,e,n){"use strict";!function(t){function e(e){var n,i,r,o,a,s,c,u,l,f,d,h,p,v=t(this),m=0,g=-1;function _(){if(d<=0)return!1;m&&clearInterval(m),m=setTimeout(function(){w(g===d-1?0:g+1),_()},p.pause)}function w(t){if(g===t)return!1;v.css({marginLeft:-l*p.itemPerSlide*t,transition:"margin-left "+p.speed/1e3+"s "+p.easing}),p.controls&&(0===t?r.addClass("control-disabled"):r.removeClass("control-disabled"),t===d-1?o.addClass("control-disabled"):o.removeClass("control-disabled")),p.pager&&c.find("li").eq(t).addClass("pager-active").siblings().removeClass("pager-active"),g=t}if(h={itemSelector:"> li",itemWidth:null,itemHeight:null,itemPerSlide:null,containerSelector:null,controlsSelector:null,pagersSelector:null,controls:!0,controlsClass:"xm-controls-line-small",pager:!1,speed:500,easing:"ease",auto:!1,pause:5e3,onLoad:t.noop},p=t.extend({},h,e),n=v.find(p.itemSelector),p.itemPerSlide&&n.length<=p.itemPerSlide)return this;l=p.itemWidth||n.outerWidth(!0),f=p.itemHeight||n.outerHeight(!0),(a=p.containerSelector?v.closest(p.containerSelector):v.parent()).addClass("xm-carousel-container"),s=v.wrap('<div class="xm-carousel-wrapper"></div>').closest(".xm-carousel-wrapper").css({height:f,overflow:"hidden"}),v.css("width",l*n.length),p.controls&&(i=t('<div class="xm-controls '+p.controlsClass+' xm-carousel-controls"><a class="control control-prev iconfont" href="javascript: void(0);">&#xe908;</a><a class="control control-next iconfont" href="javascript: void(0);">&#xe90d;</a></div>'),p.controlsSelector?a.find(p.controlsSelector).append(i):i.insertAfter(s),r=i.find(".control-prev"),o=i.find(".control-next"),r.on("click",function(e){e.preventDefault(),t(this).hasClass("control-disabled")||w(g-1)}),o.on("click",function(e){e.preventDefault(),t(this).hasClass("control-disabled")||w(g+1)})),p.pager&&(c=t('<div class="xm-pagers-wrapper"></div>'),p.pagersSelector?a.find(p.pagersSelector).append(c):c.insertAfter(s)),u=p.itemPerSlide||Math.ceil(s.width()/l),(d=Math.ceil(n.length/u))<=1||(w(0),p.pager&&function(){for(var e='<ul class="xm-pagers">',n=0,i=d;n<i;n+=1)e+='<li class="pager'+(0===n?" pager-active":"")+'"><span class="dot">'+(n+1)+"</span></li>";e+="</ul>",c.html(e),c.find("li").off(".carousel").on("click.carousel",function(){t(this).addClass("pager-active").siblings().removeClass("pager-active"),w(c.find("li").index(t(this)))})}(),p.auto&&(_(),p.controls&&i.find(".control").off(".carousel").on({"mouseenter.carousel":function(){m&&clearTimeout(m)},"mouseleave.carousel":function(){_()}}),p.pager&&c.find(".pager").off(".carousel").on({"mouseenter.carousel":function(){m&&clearTimeout(m)},"mouseleave.carousel":function(){_()}})))}t.fn.carousel=function(t){return this.each(function(){e.call(this,t)}),this}}(jQuery)},function(t,e,n){t.exports={default:n(63),__esModule:!0}},function(t,e,n){n(39),n(47),t.exports=n(32).f("iterator")},function(t,e,n){var i=n(24),r=n(25);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),c=i(n),u=s.length;return c<0||c>=u?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(43),r=n(19),o=n(21),a={};n(7)(a,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(4),r=n(5),o=n(28);t.exports=n(6)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,c=0;s>c;)i.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var i=n(14);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(11),r=n(45),o=n(69);t.exports=function(t){return function(e,n,a){var s,c=i(e),u=r(c.length),l=o(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(24),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(9),r=n(71),o=n(29)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(25);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";var i=n(73),r=n(74),o=n(13),a=n(11);t.exports=n(40)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(76),__esModule:!0}},function(t,e,n){n(77),n(50),n(83),n(84),t.exports=n(2).Symbol},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(6),a=n(10),s=n(42),c=n(78).KEY,u=n(18),l=n(30),f=n(21),d=n(20),h=n(1),p=n(32),v=n(33),m=n(79),g=n(80),_=n(5),w=n(8),y=n(11),b=n(27),x=n(19),k=n(43),S=n(81),C=n(82),T=n(4),$=n(28),O=C.f,L=T.f,j=S.f,E=i.Symbol,I=i.JSON,P=I&&I.stringify,J=h("_hidden"),M=h("toPrimitive"),A={}.propertyIsEnumerable,N=l("symbol-registry"),D=l("symbols"),B=l("op-symbols"),G=Object.prototype,F="function"==typeof E,R=i.QObject,U=!R||!R.prototype||!R.prototype.findChild,q=o&&u(function(){return 7!=k(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=O(G,e);i&&delete G[e],L(t,e,n),i&&t!==G&&L(G,e,i)}:L,W=function(t){var e=D[t]=k(E.prototype);return e._k=t,e},z=F&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},H=function(t,e,n){return t===G&&H(B,e,n),_(t),e=b(e,!0),_(n),r(D,e)?(n.enumerable?(r(t,J)&&t[J][e]&&(t[J][e]=!1),n=k(n,{enumerable:x(0,!1)})):(r(t,J)||L(t,J,x(1,{})),t[J][e]=!0),q(t,e,n)):L(t,e,n)},V=function(t,e){_(t);for(var n,i=m(e=y(e)),r=0,o=i.length;o>r;)H(t,n=i[r++],e[n]);return t},X=function(t){var e=A.call(this,t=b(t,!0));return!(this===G&&r(D,t)&&!r(B,t))&&(!(e||!r(this,t)||!r(D,t)||r(this,J)&&this[J][t])||e)},Y=function(t,e){if(t=y(t),e=b(e,!0),t!==G||!r(D,e)||r(B,e)){var n=O(t,e);return!n||!r(D,e)||r(t,J)&&t[J][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=j(y(t)),i=[],o=0;n.length>o;)r(D,e=n[o++])||e==J||e==c||i.push(e);return i},Z=function(t){for(var e,n=t===G,i=j(n?B:y(t)),o=[],a=0;i.length>a;)!r(D,e=i[a++])||n&&!r(G,e)||o.push(D[e]);return o};F||(s((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(B,n),r(this,J)&&r(this[J],t)&&(this[J][t]=!1),q(this,t,x(1,n))};return o&&U&&q(G,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),C.f=Y,T.f=H,n(49).f=S.f=K,n(34).f=X,n(48).f=Z,o&&!n(12)&&s(G,"propertyIsEnumerable",X,!0),p.f=function(t){return W(h(t))}),a(a.G+a.W+a.F*!F,{Symbol:E});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)h(Q[tt++]);for(var et=$(h.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!F,"Symbol",{for:function(t){return r(N,t+="")?N[t]:N[t]=E(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!F,"Object",{create:function(t,e){return void 0===e?k(t):V(k(t),e)},defineProperty:H,defineProperties:V,getOwnPropertyDescriptor:Y,getOwnPropertyNames:K,getOwnPropertySymbols:Z}),I&&a(a.S+a.F*(!F||u(function(){var t=E();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(w(e)||void 0!==t)&&!z(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),i[1]=e,P.apply(I,i)}}),E.prototype[M]||n(7)(E.prototype,M,E.prototype.valueOf),f(E,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(t,e,n){var i=n(20)("meta"),r=n(8),o=n(9),a=n(4).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(18)(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[i].w},onFreeze:function(t){return u&&f.NEED&&c(t)&&!o(t,i)&&l(t),t}}},function(t,e,n){var i=n(28),r=n(48),o=n(34);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),c=o.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var i=n(14);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(11),r=n(49).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(34),r=n(19),o=n(11),a=n(27),s=n(9),c=n(41),u=Object.getOwnPropertyDescriptor;e.f=n(6)?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){n(33)("asyncIterator")},function(t,e,n){n(33)("observable")},function(t,e,n){t.exports={default:n(86),__esModule:!0}},function(t,e,n){n(87);var i=n(2).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(10);i(i.S+i.F*!n(6),"Object",{defineProperty:n(4).f})},function(t,e,n){"use strict";$.fn.reset=function(){return this.each(function(){$(this).removeAttr("href").removeClass("J_openColorPop").off("click.buy")})},$.fn.buyNow=function(){var t;return this.each(function(){t=$(this).attr("data-gid")?$(this).attr("data-gid").split(","):[];var e=$(this).attr("data-url"),n=t[0];if(e)var i=e;else i=GLOBAL_CONFIG.orderSite+"/cart/add/"+n;$(this).reset().html(_cmsEventText.buynow),i&&$(this).attr("href",i).removeAttr("disabled")})},$.fn.outStock=function(t){return t=_cmsEventText.outstock||t,this.each(function(){$(this).reset().html(t).attr("disabled","").attr("href","javascript:void(0);")})},$.fn.colorChoose=function(){return this.each(function(){$(this).reset().html(_cmsEventText.buynow).removeAttr("disabled").addClass("J_openColorPop").attr("href","javascript:void(0);")})},$.fn.damiao=function(t,e,n,i){return this.each(function(){$(this).reset().html(_cmsEventText.buynow).removeAttr("disabled").attr("href","javascript:void(0);"),$(this).on("click.buy",function(){xiaomi.cart().addGood(t,function(){window.location.href=n?GLOBAL_CONFIG.orderSite+"/cart/recommend"+i:GLOBAL_CONFIG.orderSite+"/cart"})})})},$.fn.checkStock=function(t,e){t&&t.length>0&&this.each(function(){$(this).attr("data-gid")||$(this).buyNow();for(var n=$(this).attr("data-gid").split(","),i=!1,r=!1,o=!1,a=!1,s="",c=$(this).attr("data-outofstocktxt"),u=0;u<n.length;u++)for(var l=0;l<t.length;l++)t[l].id==n[u]&&(i=i||!t[l].is_cos,r=r||t[l].is_bigtap,o=t[l].has_recommend,a=t[l].has_packet,s=t[l].tag);if(i||e)if(n.length>1)!function(t,e){$(document).on("click",".J_openColorPop",function(e){if(e.preventDefault(),$(this).data("url"))return window.location.href=$(this).data("url"),!1;for(var n=$(".J_colorPop"),i=$(this).attr("data-gid").split(","),r=[],o=0;o<i.length;o++)for(var a=0;a<t.length;a++)t[a].id==i[o]&&r.push(t[a]);var s=doT.template($("#colorPopTempl").html()),c=s(r);n.html(c),n.modal("show"),n.find(".J_proList>li").eq(0).click()}),$(document).on("click",".J_colorPop .J_proList>li",function(n){var i=$(this).attr("data-img"),r=$(this).attr("data-price"),o=$(this).attr("data-name"),a=$(this).attr("data-title"),s=($(this).attr("data-product"),$(this).attr("data-gid")),c=$(this).parents(".J_colorPop"),u=c.find(".J_popTitle"),l=c.find(".J_btnYes"),f=$.grep(t,function(t){return t.id===s});c.find(".J_proThumb").attr({src:i+"?thumb=1&w=220&h=220&width=220&height=220",alt:a}),c.find(".J_proName").text(o),c.find(".J_proPrice").text(r),a!==u.text()&&u.text(a),$(this).addClass("selected").siblings().removeClass("selected out-of-stock"),c.find(".J_proInfo").show(),c.find(".J_proStock").hide(),c.find(".J_proRegister").hide(),c.find(".J_soldBy")&&c.find(".J_soldBy").text("Sold by : "+f[0].goods_dealer),l.attr("data-gid",s).checkStock(f,e),e||!f[0].is_cos||f[0].is_presale&&!f[0].presale_cos||($(this).addClass("out-of-stock"),c.find(".J_proInfo").hide(),c.find(".J_proRegister").hide(),c.find(".J_proStock").show())}),$(document).on("click",".J_colorPop .J_btnYes",function(t){var e=$(this).parents(".J_colorPop");e.modal("hide")})}(t,e),$(this).colorChoose();else if(r){var f="?phone="+s+"&goodsId="+n[0];$(this).damiao(n[0],a,o,f)}else $(this).buyNow();else $(this).outStock(c)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.originCommon=function(t){$("#J_main").on("click",".J_btnLikeShare",function(t){t.preventDefault();var e=$(this),n=e.data("share-title"),r=e.data("share-description"),o=e.data("share-image"),a=(e.data("stat-aid"),window.location.href),s=(e.data("goodsid")+"").split(",")[0];window._msq&&window._msq.push(["trackEvent","event","template_price_like_reduction","-Share-FB_share_"+s,""]),(0,i.gFbShare)({isOrigin:!1,link:a,title:n,description:r,picture:o})}),$("#J_main").on("click",".J_btnSubcription",function(e){e.preventDefault();var n=$(this),o=n.data("type")-0,a=n.data("block-id"),s=n.data("stat-aid");if(!(0,i.gIsLoginMi)())return(0,i.gLogin)(),!1;$.ajax({url:GLOBAL_CONFIG.apiUrl+"/warmup/follow",type:"GET",dataType:"jsonp",cache:!0,data:{action:"add",follow_type:o,event_code:enPageUrl,block_code:a,aid:s},jsonp:"jsonpcallback",jsonpCallback:"follow",success:function(e){-2===e.code?(0,i.gLogin)():0===e.code&&(n.hide(),function(t,e){e?(0,r.winTips)({title:t}):alert(t)}(subscriptionTxt.successTxt,t))},error:function(t){}})}),(0,i.gIsLoginMi)()?requireInfo&&window.APISWITCH.popup&&$.ajax({url:GLOBAL_CONFIG.apiUrl+"/eventapi/api/popup/info",type:"GET",data:{event_code:enPageUrl},xhrFields:{withCredentials:!0},cache:!0,success:function(t){0==t.code&&t.data.show&&o()},error:function(t){o()}}):o();$("#J_main").on("click",".J_btnCloseRedPocket",function(t){t.preventDefault(),(0,i.gIsLoginMi)()&&$.ajax({url:GLOBAL_CONFIG.apiUrl+"/eventapi/api/popup/draw",type:"POST",cache:!0,xhrFields:{withCredentials:!0},data:{event_code:enPageUrl,close:!0},success:function(t){}}),$(".J_modalMask").hide(),$(".J_redPocket").hide()}),$("#J_main").on("click",".J_btnCloseRes",function(t){t.preventDefault(),$(".J_modalMask").hide(),$(".J_redPocketRes").hide()}),$("#J_main").on("click",".J_btnRedPocket",function(t){t.preventDefault();var e=$(this),n=e.data("type").toLowerCase(),r=e.attr("href");e.data("successful-text"),e.data("failure-text");if("coupon"===n){if(!(0,i.gIsLoginMi)())return(0,i.gLogin)(),!1;$.ajax({url:GLOBAL_CONFIG.apiUrl+"/eventapi/api/popup/draw",type:"POST",cache:!0,xhrFields:{withCredentials:!0},data:{event_code:enPageUrl,close:!1},success:function(t){if(10004===t.code)(0,i.gLogin)();else if(0===t.code){var e=$(".J_pocketTipTitle"),n=$(".J_redPocketRes .J_pocketErrorImg");n.hide(),e.html(e.data("successful-text")),$(".J_redPocket").hide(),$(".J_redPocketRes").removeClass("redpocket-hide")}else{var r=$(".J_pocketTipTitle"),o=$(".J_redPocketRes .J_pocketSuccessImg");o.hide(),r.html(r.data("failure-text")),$(".J_redPocket").hide(),$(".J_redPocketRes").removeClass("redpocket-hide")}},error:function(t){t.msg||t.message;o()}})}else window.location.href=r}),$("#J_main").on("click",".J_btnLike",function(t){t.preventDefault();var e=$(this),n=e.data("stat-aid");if(e.attr("disabled")||e.hasClass("btn-disabled"))return!1;if("pc"===window.GLOBAL_CONFIG.clientType&&+e.data("is-sale-time")){var i=e.attr("href");!i.includes("javascript:void")&&window.open(i)}else e.addClass("btn-disabled").attr("disabled","disabled"),$.ajax({url:a("/eventapi/api/up/set?url="+enPageUrl+"&goodsId="+n),type:"POST",cache:!0,xhrFields:{withCredentials:!0},success:function(t){-2===t.code||(0===t.code&&t.data.res?e.addClass("btn-like-ok").text(btnLike.liked):e.removeAttr("disabled").removeClass("btn-disabled"))},error:function(t){t.msg||t.message;e.removeAttr("disabled").removeClass("btn-disabled")}})})},e.getUpInfo=function(t,e){if(""===enPageUrl)return;$.ajax({url:a("/eventapi/api/up/get"),type:"GET",xhrFields:{withCredentials:!0},cache:!0,data:{url:enPageUrl},success:function(t){if(-2===t.code);else if(0===t.code){var n=t.data;$(".J_proLikeItem").each(function(){var t=$(this),i=t.find(".J_btnLike"),r=t.data("stat-aid"),o=n[r];e&&e[r]&&(o.isUp?i.html(window.btnLike.liked):i.removeClass("btn-disabled").removeAttr("disabled").html(window.btnLike.like)),t.find(".J_stepPrice").eq(o.segmentIndex).addClass("now-price").siblings().removeClass("now-price"),t.find(".J_likeProcess").css({width:o.rate+"%"}),t.find(".J_likedPeopleCount").html(o.count)})}},error:function(t){t.msg||t.message}})};var i=n(3),r=n(15);function o(){$(".J_redPocket").removeClass("redpocket-hide"),$(".J_modalMask").removeClass("redpocket-hide")}function a(t){return window.location.href.includes("event.t.n.mi.com")?"//hd-c.test.mi.com/"+window.GLOBAL_CONFIG.appLocal.name+t:""+window.GLOBAL_CONFIG.apiUrl+t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.freshCouponInit=e.couponInit=void 0;var i=a(n(91)),r=a(n(35)),o=a(n(92));function a(t){return t&&t.__esModule?t:{default:t}}e.couponInit=function(){var t={},e=document.querySelector(".J_couponSecList").dataset.tag;document.querySelectorAll(".J_couponSecList .J_couponArea").forEach(function(n){var r=new i.default(n,e);t[r.id]=r}),(0,r.default)("/raffle/drawinfo",{tag:e}).then(function(e){if(0==e.code){var n=e.data.info;Object.keys(t).forEach(function(e){var i=t[e],r=n[e];if(null==r)return console.warn("优惠券与接口不符：ID "+e),void i.setState(0);3==r?i.setState(1):2==r?2==i.checkState(1e3*servertime)?i.setState(2):i.setState(0):1==r?0==i.checkState(1e3*servertime)?i.setState(0):i.setState(2):i.setState(0)})}})},e.freshCouponInit=function(){var t={},e=document.querySelector(".J_freshCoupon").dataset.tag;document.querySelectorAll(".J_freshCoupon .J_couponArea").forEach(function(n){var i=new o.default(n,e);t[i.id]=i}),(0,r.default)("/newcomer/info").then(function(e){if(0==e.code){var n=e.data;Object.keys(t).forEach(function(e){var i=t[e],r=n[e];if(null==r)return console.warn("优惠券与接口不符：ID "+e),void i.setState(0);3==r?i.setState(1):2==r?i.setState(0):1==r?i.setState(2):i.setState(0)})}else 400015==e.code?Object.keys(t).forEach(function(e){t[e].setState(2)}):Object.keys(t).forEach(function(e){t[e].setState(0)})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(22)),r=s(n(23)),o=s(n(35)),a=n(3);function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n){(0,i.default)(this,t),this.tag=n,this.coupon=e,this.id=e.dataset.couponId,this.startTime=1e3*e.dataset.startTime,this.endTime=1e3*e.dataset.endTime,this._timeGap=1e3*servertime-Date.parse(new Date),this._clicked=!1,this.setState=this.setState.bind(this),this.checkState=this.checkState.bind(this),this.alertMsg=this.alertMsg.bind(this),this.coupon.addEventListener("click",this._handlerClick.bind(this))}return(0,r.default)(t,[{key:"_handlerClick",value:function(){var t=this,e=Date.parse(new Date);0!=this.checkState(e+this._timeGap)?this._clicked||(this._clicked=!0,(0,o.default)("/raffle/drawprize",{tag:this.tag,present_id:this.id},"POST").then(function(e){t._clicked=!1,0==e.code?t.setState(1):10004==e.code?(0,a.gLogin)():t.setState(2)}).catch(function(e){t._clicked=!1})):(0,a.gIsLoginMi)()?this.alertMsg():(0,a.gLogin)()}},{key:"checkState",value:function(t){return(t=t||Date.parse(new Date))<this.startTime?0:t>=this.endTime?2:1}},{key:"alertMsg",value:function(){var t=this,e=this.coupon.querySelector(".coupon-warn");e.style.visibility="visible",e.style.opacity="1",this._clicked=!0,setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",t._clicked=!1},1e3)}},{key:"setState",value:function(t){var e=["received-coupon","draw-coupon","stock-coupon"];this.coupon.querySelectorAll(".coupon").forEach(function(n){n.className.indexOf(e[t])>=0?n.style.display="inline":n.style.display="none"}),2!=t&&1!=t||this.coupon.setAttribute("aria-disabled","true")}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(22)),r=s(n(23)),o=s(n(35)),a=n(3);function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n){(0,i.default)(this,t),this.tag=n,this.coupon=e,this.id=e.dataset.couponId,this._clicked=!1,this.setState=this.setState.bind(this),this.alertMsg=this.alertMsg.bind(this),this.coupon.addEventListener("click",this._handlerClick.bind(this))}return(0,r.default)(t,[{key:"_handlerClick",value:function(){var t=this;this._clicked||(this._clicked=!0,(0,o.default)("/newcomer/draw",{present_id:this.id},"POST").then(function(e){t._clicked=!1;var n=e.code;0==n?t.setState(1):10004==n?(0,a.gLogin)():400013==n?t.alertMsg(".coupon-warn-out"):400017==n||400018==n?t.alertMsg(".coupon-warn-end"):t.alertMsg(".coupon-warn-failed")}).catch(function(e){t._clicked=!1}))}},{key:"alertMsg",value:function(t){var e=this,n=this.coupon.querySelector(t);n.style.visibility="visible",n.style.opacity="1",this._clicked=!0,setTimeout(function(){n.style.visibility="hidden",n.style.opacity="0",e._clicked=!1},2e3)}},{key:"setState",value:function(t){var e=["received-coupon","draw-coupon","stock-coupon"];this.coupon.querySelectorAll(".coupon").forEach(function(n){n.className.indexOf(e[t])>=0?n.style.display="inline":n.style.display="none"}),2!=t&&1!=t||this.coupon.setAttribute("aria-disabled","true")}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(94),o=(i=r)&&i.__esModule?i:{default:i};var a={init:function(){o.default.init()}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(95)),r=c(n(51)),o=c(n(96)),a=c(n(97)),s=n(15);function c(t){return t&&t.__esModule?t:{default:t}}var u={data:{operateDatas:operateDatas,httpData:{},dataUrls:{seckillInfo:GLOBAL_CONFIG.seckillBaseUrl+"/seckill/info",shareReg:GLOBAL_CONFIG.seckillBaseUrl+"/seckill/share",seckillDo:GLOBAL_CONFIG.seckillBaseUrl+"/seckill/do"}},init:function(){u.getData()},getData:function(){(0,s.getAjax)({url:u.data.dataUrls.seckillInfo,dataType:"jsonp",jsonp:"jsonpcallback",jsonpCallback:"seckill",cache:!0,success:function(t){generalDisplay=t.data.display,u.data.httpData=u.deepClone(t.data),u.data.operateDatas.forEach(function(t){u.initData(t)})}})},initData:function(t){var e=u.deepClone(u.data.httpData),n=e.info,s=t.sections,c=e.display,l=e.next,f=e.share,d=e.seckill_start,h=e.act_tag,p=e.act_name,v=e.is_start,m=e.timestamp,g=e.is_need_share,_={id:t.id,display:c,next:l,share:f,seckill_start:d,act_tag:h,act_name:p,is_start:v,timestamp:m,is_need_share:g,info:[]};s.forEach(function(t,e){n.forEach(function(e,n){var i,r,o,a=(i=t.items,r=e.items,o=[],i.forEach(function(t){r.forEach(function(e){t.seckillId&&t.seckillId.trim()==e.id&&o.push(e)})}),o);if(a.length>0){var s={start_time:e.start_time,end_time:e.end_time,tid:e.tid,status:e.status,items:a,users:e.users};_.info.push(s)}})}),_.info=u.sliceData(_);var w=-1,y=_.info.filter(function(t){return 3==t.status||4==t.status});if(y.length>0&&(w=y[0].status),0==y.length){var b=_.info.filter(function(t){return 2==t.status});b.length>0&&(w=b[0].status)}var x=_.info.filter(function(t){return t.status==w}),k=0;if(x.length>0&&(k=_.info.indexOf(x[0])>0?_.info.indexOf(x[0]):0),0==y.length){var S=_.info.filter(function(t){return 5==t.status});S.length==_.info.length&&(k=S.length-1)}return _.display=k,o.default.init(u.deepClone(_)),i.default.init(u.deepClone(_)),r.default.init(u.deepClone(_)),new a.default(u.deepClone(_)).init(),_},deepClone:function(t){return JSON.parse(JSON.stringify(t))},sliceData:function(t){var e=t.info,n=e.length;if(n<=4)return e;var i=t.timestamp,r=[],o=0;if(n>4)if(e.forEach(function(t,e){t.end_time<i&&(o=e+1)}),r=n-o>=4?e.slice(o,o+4):e.slice(n-4),n-o>=4)for(var a=0;a<o;a++)$("#sec_"+t.id+" .slider-item").eq(0).remove();else for(var s=0;s<n-4;s++)$("#sec_"+t.id+" .slider-item").eq(0).remove();return r}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(51)),r=o(n(37));function o(t){return t&&t.__esModule?t:{default:t}}var a={data:{contentData:{},currentEl:null},init:function(t){var e=$("#sec_"+t.id);a.data.currentEl=e,a.data.contentData=t,a.getState()},formatTime:function(t){var e=a.data.currentEl;e.find(".J_hour").html(""),e.find(".J_min").html(""),e.find(".J_sec").html("")},getState:function(){var t=a.data.contentData,e=t.display,n=t.info[e],i=t.info.filter(function(t){return t.tid==n.tid});if(0!=i.length){var r=i[0];a.judegSection(r)}},judegSection:function(t){var e=a.data.contentData;switch(t.status){case 2:a.countDown(t);break;case 3:a.shine();break;case 4:var n=a.judgeTotalCos(t);if(a.shine(),n){a.unshine();var i=e.info[e.display+1];i&&a.judegSection(i)}break;case 5:a.unshine()}},countDown:function(t){var e=t.start_time,n=a.data,o=n.currentEl,s=n.contentData,c=[o.find(".J_hour"),o.find(".J_min"),o.find(".J_sec")],u=c[0],l=c[1],f=c[2];$("#J_timer_"+s.id).show(),$("#J_shine_"+s.id).hide(),new r.default({endTime:e,tick:function(t,e){var n=Math.floor(e/3600)>9?Math.floor(e/3600):"0"+Math.floor(e/3600),i=Math.floor(e/60%60)>9?Math.floor(e/60%60):"0"+Math.floor(e/60%60),r=Math.floor(e%60)>9?Math.floor(e%60):"0"+Math.floor(e%60);u.text(n),l.text(i),f.text(r)},timeup:function(){var t=o.find(".flashsale-title .active").index();i.default.setLiveBtn(s.info[s.display],o.find(".goods-list").eq(t))}})},shine:function(){var t=a.data.contentData.id;$("#J_timer_"+t).hide(),$("#J_shine_"+t).show(),$("#J_shine_"+t).removeClass("unlightning").addClass("light-shine")},unshine:function(){var t=a.data.contentData.id;$("#J_timer_"+t).hide(),$("#J_shine_"+t).show(),$("#J_shine_"+t).removeClass("light-shine").addClass("unlightning")},judgeTotalCos:function(t){for(var e=!0,n=t.items,i=0,r=n.length;i<r;i++)if(!n[i].is_cos){e=!1;break}return e}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:{contentData:{},btn:{},currentEl:null},init:function(t){var e=$("#sec_"+t.id);i.data.currentEl=e,i.data.btn={lightIndex:0,tabW:e.find(".flashsale-time .time-item").width()+e.find(".flashsale-time .space-item").width(),goodsW:e.find(".slider-group").width()},i.data.contentData=JSON.parse(JSON.stringify(t)),i.tabTimeShow(t),i.falshsaleBtn(t)},falshsaleBtn:function(t){var e=t.id;i.firstShowTab(t),$(".J_title_"+e).on("click",function(){var e=$(this).index();i.highlightBtn(e,t.id)})},firstShowTab:function(t){var e=t.info.filter(function(e){return e.tid==t.info[t.display].tid});if(0!=e.length&&-1!=t.display){var n=t.info.indexOf(e[0]),r=n+1>=t.info.length?n:n+1;if(4==e[0].status)if(i.judgeTotalCos(e[0]))return void i.highlightBtn(r,t.id);5!=e[0].status?i.highlightBtn(n,t.id):i.highlightBtn(r,t.id)}else i.highlightBtn(0,t.id)},judgeTotalCos:function(t){for(var e=!0,n=t.items,i=0,r=n.length;i<r;i++)if(!n[i].is_cos){e=!1;break}return e},highlightBtn:function(t,e){var n=t*($("#sec_"+e).find(".flashsale-time .time-item").width()+$("#sec_"+e).find(".flashsale-time .space-item").width()),r=-t*$("#sec_"+e).find(".slider-group").width();$("#sec_"+e+" .flashsale-title li").eq(t).attr("data-active","true").siblings().attr("data-active","false"),$("#sec_"+e+" .select-btn").css("transform","translateX("+n+"px)"),$("#sec_"+e+" .slider-content").css("transform","translateX("+r+"px)"),$("#sec_"+e+" .flashsale-title li").hasClass("active")||$("#sec_"+e+" .flashsale-title li").eq(t).addClass("active"),i.data.lightIndex=t},tabTimeShow:function(t){t.info.forEach(function(t,e){i.initTime(t,e)})},initTime:function(t,e){var n=i.data.currentEl,r=JSON.parse(JSON.stringify(i.data.contentData)),o=n.find(".flashsale-title>.title-item"),a=r.info.filter(function(e){return e.status==t.status}),s=0;a.length>0&&(s=r.info.indexOf(a[0])>0?r.info.indexOf(a[0]):0);var c=s,u=new Date(1e3*t.start_time),l=[_flashSaleText.jan,_flashSaleText.feb,_flashSaleText.mar,_flashSaleText.apr,_flashSaleText.may,_flashSaleText.jun,_flashSaleText.jul,_flashSaleText.aug,_flashSaleText.sep,_flashSaleText.oct,_flashSaleText.nov,_flashSaleText.dec][u.getMonth()],f=u.getDate(),d=u.getHours()>=10?u.getHours():"0"+u.getHours(),h=u.getMinutes()>=10?u.getMinutes():"0"+u.getMinutes(),p=_flashSaleText.th;switch(f%10==1&&1!=Math.floor(f/10)?p=_flashSaleText.st:f%10==2&&1!=Math.floor(f/10)?p=_flashSaleText.nd:f%10==3&&1!=Math.floor(f/10)&&(p=_flashSaleText.rd),o.eq(e).find(".time").text(d+":"+h),o.eq(e).find(".day").text(l+"."+f+p),t.status){case 2:o.eq(c).find(".day").text(_flashSaleText.next);for(var v=0,m=o.length;v<m;v++)if(v!=c&&o.eq(v).find(".day").text()==_flashSaleText.next){o.eq(c).find(".day").text(l+"."+f+p);break}break;case 3:o.eq(c).find(".day").text(_flashSaleText.live);break;case 4:i.judgeTotalCos(t)?o.eq(c).find(".day").text(_flashSaleText.end):o.eq(c).find(".day").text(_flashSaleText.live);break;case 5:o.eq(c).find(".day").text(_flashSaleText.end)}5==a[0].status&&a.forEach(function(t,e){o.eq(e).find(".day").text(_flashSaleText.end)})}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(22)),r=o(n(23));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){(0,i.default)(this,t),this.data=e,this.init=this.init.bind(this),this.setWinnerList=this.setWinnerList.bind(this)}return(0,r.default)(t,[{key:"init",value:function(){var t=this.data.id;if("1"!==$(".flashsale-winner-container_"+t).attr("data-show")){for(var e=this.data.info,n="",i=0;i<e.length;i++){for(var r={},o=e[i].items,a=0;a<o.length;a++){var s=o[a].goods_id,c=o[a].name;r[s]=c}var u=e[i].users;for(var l in u)for(var f=u[l],d=0;d<f.length;d++)n+="<li>"+_flashSaleText.miId+" "+f[d]+"  "+r[l]+"</li>"}this.setWinnerList(n,t)}}},{key:"setWinnerList",value:function(t,e){if(t.length){var n=$(".flashsale-winner-container_"+e),i=$(".winner_"+e),r=$(".winner_list_"+e);n.show(),r.append(t);i.width();var o=r.eq(0).width(),a=Math.ceil(o)/40;r.css("-webkit-animation-duration",a+"s")}}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.videoInit=function(){$(".J_ownVideo").each(function(){var t=function(t){var e=document.createElement("video");return e.src=t.src,e.poster=t.poster,e.controls=t.controls,e.preload=t.preload,e.width=r[t.type].width,e.height=442,e.playVideo=e.play,e.pauseVideo=e.pause,{player:e,top:t.top,scrollAutoPlay:t.autoplay}}({src:$(this).data("video-src"),controls:!0,preload:"auto",autoplay:$(this).data("video-autoplay"),top:$(this).offset().top,type:$(this).data("video-type"),poster:$(this).data("video-poster")});"autoplay"===t.scrollAutoPlay&&(t.player.muted="muted",i.push(t)),$(this).append($(t.player))}),function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),window.onYouTubeIframeAPIReady=function(){$(".J_youtubeVideo").each(function(t,e){var n=$(e).offset().top,r="autoplay"===$(e).data("video-autoplay"),o={player:new window.YT.Player($(e).attr("id"),{videoId:$(e).data("video-src").replace("https://www.youtube.com/embed/",""),events:{onReady:function(t){r&&t.target.mute()}},playerVars:{rel:0,listType:"user_uploads"}}),top:n};r&&i.push(o)})}}(),$(window).on("scroll",function(t,e){var n=0,i=void 0,r=!1;function o(){(i=Date.now())-n<e&&!1===r||(t(),n=i)}return o.flash=function(){t()},o.pause=function(){r=!0},o.resume=function(){r=!1},o}(o,200))};var i=[],r={0:{width:750,textWidth:476},1:{width:561,textWidth:665},2:{width:422,textWidth:804}};function o(t){if(i.length>0){var e=$(window).scrollTop(),n=$(window).height();i.forEach(function(t){t.top<=e+n/2&&t.top+422>e+n/2?t.player.playVideo&&t.player.playVideo():(t.top>e+n/2||t.top+422<e+n/2)&&t.player.pauseVideo&&t.player.pauseVideo()})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRemindMe=void 0;var i,r=c(n(52)),o=c(n(53)),a=(e.setRemindMe=(i=(0,o.default)(r.default.mark(function t(){var e,n,i,s,c,g,_;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=d(window.location.href),n=l.eq(0).attr("data-follow"),i=l.eq(0).attr("data-unfollow"),s=l.eq(0).attr("data-learntxt"),l.eq(0).attr("data-link"),$("#J_main").on("click",".J_cmsBuyBtn",function(){var t=(0,o.default)(r.default.mark(function t(e){var o,s,c,l,d,p,g;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),"1"===(o=$(this)).attr("data-show-subscription")){t.next=5;break}return window.open(o.attr("href")),t.abrupt("return");case 5:return s=3,c=o.data("block-id"),l=o.data("stat-aid"),(0,a.gIsLoginMi)()||(0,a.gLogin)(window.location.href+"?aid="+l+"&type="+s),d=o.hasClass("subscription"),p=d?f.follow:f.unfollow,t.next=13,v(s,l,p,c);case 13:10004===(g=t.sent)?(0,a.gLogin)(window.location.href+"?aid="+l+"&type="+s):0===g?(d?o.text(i).removeClass("subscription").addClass("hasSubscription"):o.text(n).removeClass("hasSubscription").addClass("subscription"),d&&m()):h(u.errorTxt,!1);case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),t.next=8,p();case 8:c=t.sent,g=[],0===c.code&&(_=c.data&&c.data.follow_list)&&(g=_.map(function(t){return t.split("-")[2]})),l.each(function(t,r){var o=$(r),a=o.data("stat-aid");o.addClass("remind-me"),"1"!==o.attr("data-show-subscription")||g.includes(a)||o.text(n).attr("href","javascript:void(0);").removeAttr("disabled").addClass("subscription"),"1"===o.attr("data-show-subscription")&&g.includes(a)&&o.text(i).attr("href","javascript:void(0);").removeAttr("disabled").addClass("hasSubscription"),"1"!==o.attr("data-show-subscription")&&o.text(s).removeAttr("disabled"),e.aid===a&&o.hasClass("subscription")&&o.trigger("click")});case 12:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)}),n(3)),s=n(15);function c(t){return t&&t.__esModule?t:{default:t}}var u=window.subscriptionTxt,l=$(".J_cmsBuyBtn"),f={follow:GLOBAL_CONFIG.apiUrl+"/eventapi/api/warmup/follow",unfollow:GLOBAL_CONFIG.apiUrl+"/eventapi/api/warmup/unfollow",list:GLOBAL_CONFIG.apiUrl+"/eventapi/api/warmup/list"};function d(t){var e=t.match(/([^?=&]+)(=([^&]*))/g),n={};return e&&e.forEach(function(t){n[t.slice(0,t.indexOf("="))]=t.slice(t.indexOf("=")+1)}),n}function h(t,e){e?(0,s.winTips)({title:t}):alert(t)}function p(){return window.APISWITCH.warmup?new Promise(function(t){$.ajax({url:GLOBAL_CONFIG.apiUrl+"/eventapi/api/warmup/list",type:"GET",data:{event_code:window.enPageUrl,build_type:0},xhrFields:{withCredentials:!0},success:function(e){t(e)},error:function(){t(-1)}})}):[]}function v(t,e,n,i){return new Promise(function(r){$.ajax({url:n,type:"POST",data:{event_code:window.enPageUrl,follow_type:t,block_code:i,aid:e,build_type:0},xhrFields:{withCredentials:!0},success:function(t){r(t.code)},error:function(){r(-1)}})})}function m(){var t=3e3,e='<div id="J_subToast" class="sub-toast"><div class="sub-title">'+u.toastTxt+"</div></div>",n=$("#J_subToast");n.length>0?n.show():($("body").append(e),n=$("#J_subToast")),n.css({opacity:1}),setTimeout(function(){n.css({opacity:0})},t),n.on("transitionend",function(){"0"===n.css("opacity")&&n.hide()}),n.on("webkitTransitionEnd",function(){"0"===n.css("opacity")&&n.hide()})}},function(t,e,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n(101),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{(l=e.regeneratorRuntime=u?t.exports:{}).wrap=y;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(E([])));_&&_!==i&&r.call(_,a)&&(m=_);var w=S.prototype=x.prototype=Object.create(m);k.prototype=w.constructor=S,S.constructor=k,S[c]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},l.awrap=function(t){return{__await:t}},C(T.prototype),T.prototype[s]=function(){return this},l.AsyncIterator=T,l.async=function(t,e,n,i){var r=new T(y(t,e,n,i));return l.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},C(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},l.values=E,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return s.type="throw",s.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:E(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),v}}}function y(t,e,n,i){var r=e&&e.prototype instanceof x?e:x,o=Object.create(r.prototype),a=new j(i||[]);return o._invoke=function(t,e,n){var i=f;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return I()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=$(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=b(t,e,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function k(){}function S(){}function C(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,a){var s=b(t[n],t,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},a)}a(s.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function $(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,$(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=b(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,v;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){t.exports={default:n(103),__esModule:!0}},function(t,e,n){n(50),n(39),n(47),n(104),n(116),n(117),t.exports=n(2).Promise},function(t,e,n){"use strict";var i,r,o,a,s=n(12),c=n(0),u=n(16),l=n(54),f=n(10),d=n(8),h=n(17),p=n(105),v=n(106),m=n(55),g=n(56).set,_=n(111)(),w=n(36),y=n(57),b=n(112),x=n(58),k=c.TypeError,S=c.process,C=S&&S.versions,T=C&&C.v8||"",$=c.Promise,O="process"==l(S),L=function(){},j=r=w.f,E=!!function(){try{var t=$.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(L,L)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(L)instanceof e&&0!==T.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){for(var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a,s=r?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(r||(2==t._h&&A(t),t._h=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),a=!0)),n===e.promise?u(k("Promise-chain cycle")):(o=I(n))?o.call(n,c,u):c(n)):u(i)}catch(t){l&&!a&&l.exit(),u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&J(t)})}},J=function(t){g.call(c,function(){var e,n,i,r=t._v,o=M(t);if(o&&(e=y(function(){O?S.emit("unhandledRejection",r,t):(n=c.onunhandledrejection)?n({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=O||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},A=function(t){g.call(c,function(){var e;O?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw k("Promise can't be resolved itself");(e=I(t))?_(function(){var i={_w:n,_d:!1};try{e.call(t,u(D,i,1),u(N,i,1))}catch(t){N.call(i,t)}}):(n._v=t,n._s=1,P(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};E||($=function(t){p(this,$,"Promise","_h"),h(t),i.call(this);try{t(u(D,this,1),u(N,this,1))}catch(t){N.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(113)($.prototype,{then:function(t,e){var n=j(m(this,$));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(D,t,1),this.reject=u(N,t,1)},w.f=j=function(t){return t===$||t===a?new o(t):r(t)}),f(f.G+f.W+f.F*!E,{Promise:$}),n(21)($,"Promise"),n(114)("Promise"),a=n(2).Promise,f(f.S+f.F*!E,"Promise",{reject:function(t){var e=j(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!E),"Promise",{resolve:function(t){return x(s&&this===a?$:this,t)}}),f(f.S+f.F*!(E&&n(115)(function(t){$.all(t).catch(L)})),"Promise",{all:function(t){var e=this,n=j(e),i=n.resolve,r=n.reject,o=y(function(){var n=[],o=0,a=1;v(t,!1,function(t){var s=o++,c=!1;n.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=j(e),i=n.reject,r=y(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(16),r=n(107),o=n(108),a=n(5),s=n(45),c=n(109),u={},l={};(e=t.exports=function(t,e,n,f,d){var h,p,v,m,g=d?function(){return t}:c(t),_=i(n,f,e?2:1),w=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(h=s(t.length);h>w;w++)if((m=e?_(a(p=t[w])[0],p[1]):_(t[w]))===u||m===l)return m}else for(v=g.call(t);!(p=v.next()).done;)if((m=r(v,_,p.value,e))===u||m===l)return m}).BREAK=u,e.RETURN=l},function(t,e,n){var i=n(5);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(13),r=n(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(54),r=n(1)("iterator"),o=n(13);t.exports=n(2).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(0),r=n(56).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,c="process"==n(14)(a);t.exports=function(){var t,e,n,u=function(){var i,r;for(c&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){a.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){r.call(i,u)};else{var f=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i=n(0).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(7);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,n){"use strict";var i=n(0),r=n(2),o=n(4),a=n(6),s=n(1)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(1)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(10),r=n(2),o=n(0),a=n(55),s=n(58);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(10),r=n(36),o=n(57);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";new Swiper(".swiper-container",{loop:!0,autoplay:{delay:4e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initNotification=void 0;var i,r,o,a=d(n(52)),s=d(n(53)),c=(e.initNotification=(i=(0,s.default)(a.default.mark(function t(){var e,n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.APISWITCH.notification){t.next=2;break}return t.abrupt("return");case 2:if(0!==m.length){t.next=4;break}return t.abrupt("return");case 4:e=m.eq(0).attr("data-follow"),n=m.eq(0).attr("data-unfollow"),c(e,n),u(e,n);case 8:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)}),r=(0,s.default)(a.default.mark(function t(e,n){var i,r,o,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(t){var e=[];if(0===t.code){var n=t.data&&t.data.follow_list;n&&(e=n.map(function(t){return t.split("-")[2]}))}return e},i=_(window.location.href),t.next=4,new Promise(function(t){$.ajax({url:v.list,type:"GET",data:{event_code:window.enPageUrl,build_type:0},xhrFields:{withCredentials:!0},success:function(e){t(e)},error:function(){t(-1)}})});case 4:r=t.sent,o=s(r),m.each(function(t,r){var a=$(r),s=a.data("stat-aid"),c=+(a.data("receive-time")+"000");(new Date).getTime()>c||(a.addClass("J_noticeBtn").removeClass("notification-remind-disabled"),o.includes(s)?a.text(n).addClass("notification-remind-cancel"):a.text(e).addClass("notification"),i.aid===s&&a.hasClass("notification")&&a.trigger("click"))});case 7:case"end":return t.stop()}},t,this)})),function(t,e){return r.apply(this,arguments)}),u=(o=(0,s.default)(a.default.mark(function t(e,n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:$("#J_main").on("click",".J_noticeBtn",function(){var t=(0,s.default)(a.default.mark(function t(i){var r,o,s,c,u,f,d;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),r=$(this),2,o=r.data("block-id"),s=r.data("stat-aid"),c=r.hasClass("notification"),u=c?v.follow:v.unfollow,f=window.location.href.includes("?")?window.location.href+"&aid="+s+"&type=2":window.location.href+"?aid="+s+"&type=2",(0,l.gIsLoginMi)()||(0,l.gLogin)(f),t.next=11,g(2,"",u,o);case 11:10004===(d=t.sent)?(0,l.gLogin)(f):0===d?c?(r.text(n).removeClass("notification").addClass("notification-remind-cancel"),y()):r.text(e).removeClass("notification-remind-cancel").addClass("notification"):w(h.errorTxt,!1);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,this)})),function(t,e){return o.apply(this,arguments)}),l=n(3),f=n(15);function d(t){return t&&t.__esModule?t:{default:t}}var h=window.subscriptionTxt;function p(t){return window.location.href.includes("event.t.n.mi.com")?"//hd-c.test.mi.com/"+window.GLOBAL_CONFIG.appLocal.name+t:""+window.GLOBAL_CONFIG.apiUrl+t}var v={follow:p("/eventapi/api/warmup/follow"),unfollow:p("/eventapi/api/warmup/unfollow"),list:p("/eventapi/api/warmup/list")},m=$(".notification-remind");function g(t,e,n,i){return new Promise(function(r){$.ajax({url:n,type:"POST",data:{event_code:window.enPageUrl,follow_type:t,block_code:i,aid:e,build_type:0},xhrFields:{withCredentials:!0},success:function(t){r(t.code)},error:function(){r(-1)}})})}function _(t){var e=t.match(/([^?=&]+)(=([^&]*))/g),n={};return e&&e.forEach(function(t){n[t.slice(0,t.indexOf("="))]=t.slice(t.indexOf("=")+1)}),n}function w(t,e){e?(0,f.winTips)({title:t}):alert(t)}function y(){var t=3e3,e='<div id="J_subToast" class="sub-toast"><div class="sub-title">'+h.toastTxt+"</div></div>",n=$("#J_subToast");n.length>0?n.show():($("body").append(e),n=$("#J_subToast")),n.css({opacity:1}),setTimeout(function(){n.css({opacity:0})},t),n.on("transitionend",function(){"0"===n.css("opacity")&&n.hide()}),n.on("webkitTransitionEnd",function(){"0"===n.css("opacity")&&n.hide()})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setDiscountLikeProcess=function(){$(".like-process").each(function(){var t=$(this),e=t.find(".step-prices").children("li");if(e.css({opacity:1}),!(e.length<3)){var n=t.find(".bar-dots").children("li"),i=t.data("price-segments"),r=+i[i.length-1].peopleNum;i.forEach(function(t,o){if(0!==o&&o!==i.length-1){var a=$(n[o]),s=$(e[o]),c=+t.peopleNum,u=(100*(1-c/r)).toFixed(2)+"%";a.css({right:u}),s.css({right:u})}})}})}}]);